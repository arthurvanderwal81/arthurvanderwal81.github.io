<!-- https://sensor-js.xyz/demo.html -->
<!-- accelerationIncludingGravity - accelartion = gravity -->
<html>
    <head>
        <script type="text/javascript">

            let acceleration = [0.0, 0.0, 0.0];
            let accelarationWithGravity = [0.0, 0.0, 0.0];
            let gravity = [0.0, 0.0, 0.0];

            window.addEventListener("devicemotion", function(e) {
                console.log(e);
                try
                {
                    acceleration[0] = e.acceleration.x;
                    acceleration[1] = e.acceleration.y;
                    acceleration[2] = e.acceleration.z;

                    accelarationWithGravity[0] = e.accelerationIncludingGravity.x;
                    accelarationWithGravity[1] = e.accelerationIncludingGravity.y;
                    accelarationWithGravity[2] = e.accelerationIncludingGravity.z;

                    gravity[0] = e.accelerationIncludingGravity.x - e.acceleration.x;
                    gravity[1] = e.accelerationIncludingGravity.y - e.acceleration.y;
                    gravity[2] = e.accelerationIncludingGravity.z - e.acceleration.z;
                }
                catch (e)
                {
                    document.querySelector("#error").innerText = e.message;
                }
            });

            window.addEventListener("load", function() {
                setInterval(function() {
                    document.querySelector("#ax").innerText = "X: " + acceleration[0].toFixed(2);
                    document.querySelector("#ay").innerText = "Y: " + acceleration[1].toFixed(2);
                    document.querySelector("#az").innerText = "Z: " + acceleration[2].toFixed(2);

                    document.querySelector("#agx").innerText = "X: " + accelarationWithGravity[0].toFixed(2);
                    document.querySelector("#agy").innerText = "Y: " + accelarationWithGravity[1].toFixed(2);
                    document.querySelector("#agz").innerText = "Z: " + accelarationWithGravity[2].toFixed(2);

                    document.querySelector("#x").innerText = "X: " + gravity[0].toFixed(2);
                    document.querySelector("#y").innerText = "Y: " + gravity[1].toFixed(2);
                    document.querySelector("#z").innerText = "Z: " + gravity[2].toFixed(2);
                }, 500);
            });

        </script>

        <style>
            .container {
                display: flex;
                justify-content: center;
                align-items: center;
            }

            div {
                margin: 10px;
            }
        </style>

    </head>
    <body>
        <div class="container">
            <div id="ax">
            </div>
            <div id="ay">
            </div>
            <div id="az">
            </div>
        </div>
        <div class="container">
            <div id="agx">
            </div>
            <div id="agy">
            </div>
            <div id="agz">
            </div>
        </div>
        <div class="container">
            <div id="x">
            </div>
            <div id="y">
            </div>
            <div id="z">
            </div>
        </div>
        <div id="error">
        </div>
    </body>
</html>